{{define "notices/add.html"}}
<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="/static/css/notices.css">
</head>
<body>
    {{template "sidebar" .}}
    
    <div class="main-wrapper">
        {{template "header" .}}
        
        <main class="content">

<!-- ë’¤ë¡œê°€ê¸° -->
<div class="notice-detail-nav">
    <a href="/notices" class="notice-back-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
        ëª©ë¡ìœ¼ë¡œ
    </a>
</div>

{{if .ErrorMessage}}
<div class="notice-alert notice-alert-error">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
    {{.ErrorMessage}}
</div>
{{end}}

<!-- ë“±ë¡ í¼ -->
<div class="notice-form-card">
    <div class="notice-form-header">
        <h2>âœï¸ ìƒˆ ê¸€ ì‘ì„±</h2>
    </div>
    <form method="POST" action="/notices/add" class="notice-form">
        <div class="form-row">
            <div class="form-group form-group-half">
                <label class="form-label">ì¹´í…Œê³ ë¦¬ <span class="required">*</span></label>
                <select name="category" class="form-select">
                    <option value="ê³µì§€ì‚¬í•­">ğŸ“Œ ê³µì§€ì‚¬í•­</option>
                    <option value="ì´ë²¤íŠ¸">ğŸ‰ ì´ë²¤íŠ¸</option>
                </select>
            </div>
            <div class="form-group form-group-half">
                <label class="form-label">ì‘ì„±ì</label>
                <input type="text" name="created_by" class="form-input" placeholder="ì‘ì„±ì ì´ë¦„">
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">ì œëª© <span class="required">*</span></label>
            <input type="text" name="title" class="form-input" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
        </div>

        <div class="form-group">
            <label class="form-label">ë‚´ìš© <span class="required">*</span></label>
            <textarea name="content" class="form-textarea" rows="12" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required></textarea>
        </div>

        <div class="form-row" id="eventDateRow">
            <div class="form-group form-group-half">
                <label class="form-label">ì´ë²¤íŠ¸ ì‹œì‘ì¼</label>
                <input type="date" name="event_start_date" class="form-input">
            </div>
            <div class="form-group form-group-half">
                <label class="form-label">ì´ë²¤íŠ¸ ì¢…ë£Œì¼</label>
                <input type="date" name="event_end_date" class="form-input">
            </div>
        </div>

        <div class="form-group">
            <label class="form-checkbox-label">
                <input type="checkbox" name="is_pinned" value="1">
                <span class="checkbox-custom"></span>
                ğŸ“Œ ìƒë‹¨ ê³ ì •
            </label>
        </div>

        <div class="form-actions">
            <a href="/notices" class="btn-form-cancel">ì·¨ì†Œ</a>
            <button type="submit" class="btn-form-submit">ë“±ë¡í•˜ê¸°</button>
        </div>
    </form>
</div>

<script>
// ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì‹œ ì´ë²¤íŠ¸ ë‚ ì§œ í•„ë“œ í‘œì‹œ/ìˆ¨ê¹€
document.querySelector('select[name="category"]').addEventListener('change', function() {
    const eventRow = document.getElementById('eventDateRow');
    if (this.value === 'ì´ë²¤íŠ¸') {
        eventRow.style.display = 'flex';
    } else {
        eventRow.style.display = 'none';
    }
});

// ì´ˆê¸° ìƒíƒœ ì„¤ì •
document.addEventListener('DOMContentLoaded', function() {
    const category = document.querySelector('select[name="category"]').value;
    const eventRow = document.getElementById('eventDateRow');
    if (category !== 'ì´ë²¤íŠ¸') {
        eventRow.style.display = 'none';
    }
});
</script>

        </main>
    </div>
</body>
</html>
{{end}}
