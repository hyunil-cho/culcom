{{define "notices/detail.html"}}
<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="/static/css/notices.css">
</head>
<body>
    {{template "sidebar" .}}
    
    <div class="main-wrapper">
        {{template "header" .}}
        
        <main class="content">

<!-- ë’¤ë¡œê°€ê¸° -->
<div class="notice-detail-nav">
    <a href="/notices" class="notice-back-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
        ëª©ë¡ìœ¼ë¡œ
    </a>
</div>

<!-- ìƒì„¸ ì¹´ë“œ -->
<article class="notice-detail-card">
    <!-- ìƒë‹¨ ë©”íƒ€ ì •ë³´ -->
    <div class="notice-detail-header">
        <div class="notice-detail-badges">
            <span class="notice-category {{.Notice.CategoryClass}}">{{.Notice.Category}}</span>
            {{if .Notice.IsPinned}}
            <span class="notice-pin-badge">ğŸ“Œ ê³ ì •ê¸€</span>
            {{end}}
            <span class="notice-branch-badge">ğŸ¢ {{.Notice.BranchName}}</span>
        </div>
        <h1 class="notice-detail-title">{{.Notice.Title}}</h1>
        <div class="notice-detail-meta">
            <div class="notice-detail-meta-left">
                <span class="meta-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                    {{.Notice.CreatedBy}}
                </span>
                <span class="meta-divider">Â·</span>
                <span class="meta-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                    {{.Notice.CreatedDate}}
                </span>
                <span class="meta-divider">Â·</span>
                <span class="meta-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                    ì¡°íšŒ {{.Notice.ViewCount}}
                </span>
            </div>
            {{if .Notice.HasEventDate}}
            <div class="notice-event-date-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                ì´ë²¤íŠ¸ ê¸°ê°„: {{.Notice.EventStartDate}} ~ {{.Notice.EventEndDate}}
            </div>
            {{end}}
        </div>
    </div>

    <!-- ë³¸ë¬¸ -->
    <div class="notice-detail-body">
        <div class="notice-content-text">{{.Notice.Content}}</div>
    </div>

    <!-- í•˜ë‹¨ ì•¡ì…˜ -->
    <div class="notice-detail-footer">
        <div class="notice-detail-actions">
            <a href="/notices/edit?id={{.Notice.ID}}" class="btn-notice-edit">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                ìˆ˜ì •
            </a>
            <button onclick="confirmDelete({{.Notice.ID}})" class="btn-notice-delete">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                ì‚­ì œ
            </button>
        </div>
        {{if .Notice.LastUpdateDate}}
        <div class="notice-last-updated">
            ìµœì¢… ìˆ˜ì •: {{.Notice.LastUpdateDate}}
        </div>
        {{end}}
    </div>
</article>

<!-- ì‚­ì œ í™•ì¸ ëª¨ë‹¬ -->
<div id="deleteModal" class="notice-modal-overlay" style="display: none;">
    <div class="notice-modal">
        <div class="notice-modal-icon">âš ï¸</div>
        <h3>ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h3>
        <p>ì‚­ì œëœ ê²Œì‹œê¸€ì€ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
        <div class="notice-modal-actions">
            <button onclick="closeDeleteModal()" class="btn-modal-cancel">ì·¨ì†Œ</button>
            <form id="deleteForm" method="POST" action="/notices/delete" style="display: inline;">
                <input type="hidden" name="id" id="deleteNoticeId" value="">
                <button type="submit" class="btn-modal-confirm">ì‚­ì œ</button>
            </form>
        </div>
    </div>
</div>

<script>
function confirmDelete(id) {
    document.getElementById('deleteNoticeId').value = id;
    document.getElementById('deleteModal').style.display = 'flex';
}

function closeDeleteModal() {
    document.getElementById('deleteModal').style.display = 'none';
}

// ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
document.getElementById('deleteModal').addEventListener('click', function(e) {
    if (e.target === this) closeDeleteModal();
});
</script>

        </main>
    </div>
</body>
</html>
{{end}}
