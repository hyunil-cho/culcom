{{define "landing/index.html"}}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    <link rel="stylesheet" href="/static/css/landing.css">
</head>
<body>
    <div class="landing-container">
        <div class="landing-card">
            <!-- ë¡œê³  -->
            <div class="logo">
                <h1>CulCom</h1>
            </div>

            <!-- ì œëª© -->
            <div class="landing-title">
                <h2>- ìŠ¤í„°ë”” ë¬¸ì˜í•˜ê¸° -</h2>
            </div>

            <!-- ì§€ì  ì„ íƒ -->
            <div class="form-group">
                <label for="branchSelect">ì°¸ì—¬ì§€ì </label>
                <select id="branchSelect" class="form-select">
                    <option value="">ì°¸ì—¬ì§€ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                    {{range .Branches}}
                    <option value="{{.seq}}" data-name="{{.name}}" data-alias="{{.alias}}">
                        {{.name}}
                    </option>
                    {{end}}
                </select>
            </div>

            <!-- CTA ë²„íŠ¼ -->
            <div class="cta-section">
                <button id="kakaoBtn" class="kakao-btn" onclick="handleKakaoClick()">
                    ğŸ’¬ ì¹´ì¹´ì˜¤ë¡œ ë°”ë¡œ ì°¸ì—¬í•˜ê¸°
                </button>
            </div>

            <!-- ì•ˆë‚´ ë¬¸êµ¬ -->
            <div class="info-text">
                ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê°„í¸í•˜ê²Œ ìŠ¤í„°ë”” ë¬¸ì˜ë¥¼ ì‹œì‘í•˜ì„¸ìš”
            </div>
        </div>
    </div>

    <script>
        function handleKakaoClick() {
            const select = document.getElementById('branchSelect');
            
            if (!select.value) {
                alert('ì§€ì ì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }

            const branchSeq = select.value;
            
            // ì¹´ì¹´ì˜¤ OAuth ë¡œê·¸ì¸ ì‹œì‘ (ì„œë²„ ì²˜ë¦¬)
            window.location.href = `/ad/kakao/login?branch=${branchSeq}`;
        }
        
        // ë“œë¡­ë‹¤ìš´ ë³€ê²½ ì‹œ ë²„íŠ¼ í™œì„±í™”
        document.getElementById('branchSelect').addEventListener('change', function() {
            const btn = document.getElementById('kakaoBtn');
            if (this.value) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
    </script>
</body>
</html>
{{end}}
