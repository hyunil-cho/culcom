{{define "branches/detail.html"}}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}} - ë°±ì˜¤í”¼ìŠ¤</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    {{template "sidebar" .}}
    
    <div class="main-wrapper">
        {{template "header" .}}
        
        <main class="content">
<!-- ì•¡ì…˜ ë²„íŠ¼ -->
<div class="detail-actions">
    <a href="/branches" class="btn-back">â† ëª©ë¡ìœ¼ë¡œ</a>
    <div class="action-group">
        <a href="/branches/edit?id={{.Branch.ID}}" class="btn-primary">âœï¸ ìˆ˜ì •</a>
        <button class="btn-danger" onclick="showDeleteModal('{{.Branch.Name}}', '{{.Branch.ID}}')">ğŸ—‘ï¸ ì‚­ì œ</button>
    </div>
</div>

<!-- ì‚­ì œ í™•ì¸ ëª¨ë‹¬ -->
<div id="deleteModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <span class="modal-icon">âš ï¸</span>
            <h3>ì§€ì  ì‚­ì œ í™•ì¸</h3>
        </div>
        <div class="modal-body">
            <p>ì •ë§ë¡œ <strong id="branchNameToDelete"></strong> ì§€ì ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
            <p class="warning-text">âš ï¸ ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="modal-footer">
            <button class="btn-modal-cancel" onclick="closeDeleteModal()">ì·¨ì†Œ</button>
            <button class="btn-modal-confirm" onclick="confirmDelete()">ì‚­ì œ</button>
        </div>
    </div>
</div>

<!-- ì§€ì  ìƒì„¸ ì •ë³´ -->
<div class="content-card">
    <div class="detail-header">
        <h2>ê¸°ë³¸ ì •ë³´</h2>
    </div>
    <div class="detail-body">
        <div class="detail-row">
            <div class="detail-label">ì§€ì ì½”ë“œ</div>
            <div class="detail-value">{{.Branch.ID}}</div>
        </div>
        <div class="detail-row">
            <div class="detail-label">ì§€ì ëª…</div>
            <div class="detail-value"><strong>{{.Branch.Name}}</strong></div>
        </div>
        <div class="detail-row">
            <div class="detail-label">ë³„ì¹­</div>
            <div class="detail-value">{{.Branch.Alias}}</div>
        </div>
        <div class="detail-row">
            <div class="detail-label">ì£¼ì†Œ</div>
            <div class="detail-value">{{.Branch.Address}}</div>
        </div>
        <div class="detail-row">
            <div class="detail-label">ë“±ë¡ì¼</div>
            <div class="detail-value">{{.Branch.RegisterDate}}</div>
        </div>
    </div>
</div>

<!-- ì¶”ê°€ ì •ë³´ ì„¹ì…˜ -->
<div class="content-grid">
    <div class="content-card">
        <div class="detail-header">
            <h3>ìš´ì˜ ì •ë³´</h3>
        </div>
        <div class="detail-body">
            <div class="info-item">
                <span class="info-label">ì†Œì† ì§ì› ìˆ˜</span>
                <span class="info-value">12ëª…</span>
            </div>
            <div class="info-item">
                <span class="info-label">ì›” í‰ê·  ë§¤ì¶œ</span>
                <span class="info-value">â‚©15,000,000</span>
            </div>
            <div class="info-item">
                <span class="info-label">ìš´ì˜ ìƒíƒœ</span>
                <span class="info-value">ì •ìƒ ìš´ì˜</span>
            </div>
        </div>
    </div>

    <div class="content-card">
        <div class="detail-header">
            <h3>ìµœê·¼ í™œë™</h3>
        </div>
        <div class="detail-body">
            <div class="info-item">
                <span class="info-label">ìµœê·¼ ì—…ë°ì´íŠ¸</span>
                <span class="info-value">2026-01-20</span>
            </div>
            <div class="info-item">
                <span class="info-label">ì´ë²ˆ ë‹¬ ì‹ ê·œ ê³ ê°</span>
                <span class="info-value">45ëª…</span>
            </div>
            <div class="info-item">
                <span class="info-label">í‰ê·  ë°©ë¬¸ ê³ ê°</span>
                <span class="info-value">120ëª…/ì¼</span>
            </div>
        </div>
    </div>
</div>

<script>
    let branchIdToDelete = null;

    function showDeleteModal(branchName, branchId) {
        branchIdToDelete = branchId;
        document.getElementById('branchNameToDelete').textContent = branchName;
        document.getElementById('deleteModal').style.display = 'flex';
    }

    function closeDeleteModal() {
        document.getElementById('deleteModal').style.display = 'none';
        branchIdToDelete = null;
    }

    function confirmDelete() {
        if (branchIdToDelete) {
            alert('ì‚­ì œ ê¸°ëŠ¥ì€ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
            closeDeleteModal();
        }
    }

    window.onclick = function(event) {
        const modal = document.getElementById('deleteModal');
        if (event.target === modal) {
            closeDeleteModal();
        }
    }
</script>
        </main>
    </div>
</body>
</html>
{{end}}
